/*
 * app_common.h
 *
 *  Created on: Aug 25, 2025
 *      Author: kim20
 */

#ifndef INC_APP_COMMON_H_
#define INC_APP_COMMON_H_

#pragma once
#include "cmsis_os2.h"
#include "queue.h"
#include <stdint.h>

#define LCD_LINE_LEN 16

typedef struct {
    char line1[LCD_LINE_LEN+1];
    char line2[LCD_LINE_LEN+1];
} lcd_msg_t;

extern QueueHandle_t xLcdQueue;

static inline void copy16(char dst[LCD_LINE_LEN+1], const char* src) {
    int i=0; for (; i<LCD_LINE_LEN && src && src[i]; ++i) dst[i]=src[i];
    for (; i<LCD_LINE_LEN; ++i) dst[i]=' ';
    dst[LCD_LINE_LEN]='\0';
}

#include "main.h"
extern ADC_HandleTypeDef  hadc1;   // PA0
extern I2C_HandleTypeDef  hi2c1;   // PB8/PB9


#endif /* INC_APP_COMMON_H_ */
